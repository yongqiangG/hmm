(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a6a5d23"],{"0a84":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("el-select",{attrs:{placeholder:"请选择固件类型","prefix-icon":"el-icon-search",clearable:""},on:{change:e.initFws,clear:e.initFws},model:{value:e.keyWord,callback:function(t){e.keyWord=t},expression:"keyWord"}},e._l(e.fwTypes,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),n("div",[n("el-table",{staticStyle:{"margin-top":"8px"},attrs:{data:e.fws,border:"",stripe:""}},[n("el-table-column",{attrs:{type:"selection",width:"50"}}),n("el-table-column",{attrs:{prop:"id",label:"ID",width:"50"}}),n("el-table-column",{attrs:{label:"文件名称",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.name&&t.row.name.length<10||null==t.row.name?n("div",[e._v(" "+e._s(t.row.name)+" ")]):n("div",[n("span",[e._v(e._s(t.row.name.slice(0,10)))]),n("el-popover",{attrs:{placement:"right",title:"文件名",width:"200",trigger:"hover"}},[n("div",[e._v(e._s(t.row.name))]),n("el-button",{attrs:{slot:"reference",icon:"el-icon-more",type:"text"},slot:"reference"})],1)],1)]}}])}),n("el-table-column",{attrs:{label:"固件类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",[e._v(e._s(t.row.fwType.name))])]}}])}),n("el-table-column",{attrs:{label:"支持功能模块",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.moduleTypes<3?n("div",[e._l(t.row.moduleTypes,(function(t,i){return n("el-tag",{key:i,staticStyle:{"margin-left":"3px"},attrs:{type:"success"}},[e._v(e._s(t.name)+" ")])})),n("el-popover",{attrs:{placement:"right",title:"支持功能列表",width:"300",trigger:"click"}},[n("ol",e._l(t.row.moduleTypes,(function(t,i){return n("li",[e._v(e._s(t.name))])})),0),n("el-button",{attrs:{slot:"reference",icon:"el-icon-more",type:"text"},slot:"reference"})],1)],2):n("div",[e._l(t.row.moduleTypes.slice(0,2),(function(t,i){return n("el-tag",{key:i,staticStyle:{"margin-left":"3px"},attrs:{type:"success"}},[e._v(e._s(t.name)+" ")])})),n("el-popover",{attrs:{placement:"right",title:"支持功能列表",width:"300",trigger:"click"}},[n("ol",e._l(t.row.moduleTypes,(function(t,i){return n("li",[e._v(e._s(t.name))])})),0),n("el-button",{attrs:{slot:"reference",icon:"el-icon-more",type:"text"},slot:"reference"})],1)],2)]}}])}),n("el-table-column",{attrs:{label:"备注信息",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.remark&&t.row.remark.length<8||null==t.row.remark?n("div",[e._v(" "+e._s(t.row.remark)+" ")]):n("div",[n("span",[e._v(e._s(t.row.remark.slice(0,8)))]),n("el-popover",{attrs:{placement:"right",title:"备注",width:"200",trigger:"hover"}},[n("div",[e._v(e._s(t.row.remark))]),n("el-button",{attrs:{slot:"reference",icon:"el-icon-more",type:"text"},slot:"reference"})],1)],1)]}}])}),n("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"90"}}),n("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.downFw(t.row)}}},[e._v("下载 ")])]}}])})],1)],1),n("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[n("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)])},l=[],a={name:"FwDownload",data:function(){return{total:0,page:1,size:10,keyWord:null,fws:[],fwTypes:[]}},mounted:function(){this.initFwTypes(),this.initFws()},methods:{currentChange:function(e){this.page=e,this.initFws()},sizeChange:function(e){this.size=e,this.initFws()},initFwTypes:function(){var e=this;this.getRequest("/fw/download/fwtype/").then((function(t){t&&(e.fwTypes=t)}))},initFws:function(){var e=this;null==this.keyWord&&(this.keyWord="");var t="/fw/download/fwinfo/?page="+this.page+"&size="+this.size+"&fwTypeId="+this.keyWord;this.getRequest(t).then((function(t){t&&(e.fws=t.obj.data,e.total=t.obj.total)}))},downFw:function(e){window.open("/fw/download/down/"+e.id,"_parent")}}},o=a,s=n("2877"),r=Object(s["a"])(o,i,l,!1,null,"66465514",null);t["default"]=r.exports},"10b2":function(e,t,n){"use strict";var i=n("96ed"),l=n.n(i);l.a},5130:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},l=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("固件升级")])])}],a={name:"FwUpgrade"},o=a,s=n("2877"),r=Object(s["a"])(o,i,l,!1,null,"e2216802",null);t["default"]=r.exports},"96ed":function(e,t,n){},b4e2:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"上传固件",name:"first"}},[n("AllFw")],1),n("el-tab-pane",{attrs:{label:"固件类型",name:"second"}},[n("FwType")],1),n("el-tab-pane",{attrs:{label:"支持功能",name:"third"}},[n("ModuleType")],1)],1)],1)},l=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[n("div",[n("el-select",{attrs:{placeholder:"请选择固件类型","prefix-icon":"el-icon-search",clearable:""},on:{change:e.initFws,clear:e.initFws},model:{value:e.keyWord,callback:function(t){e.keyWord=t},expression:"keyWord"}},e._l(e.fwTypes,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),n("div",[n("el-button",{attrs:{type:"primary"},on:{click:e.showDia}},[e._v("上传新固件")])],1)]),n("div",[n("el-table",{staticStyle:{"margin-top":"8px"},attrs:{data:e.fws,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"50"}}),n("el-table-column",{attrs:{prop:"id",label:"ID",width:"50"}}),n("el-table-column",{attrs:{label:"文件名称",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.name&&t.row.name.length<10||null==t.row.name?n("div",[e._v(" "+e._s(t.row.name)+" ")]):n("div",[n("span",[e._v(e._s(t.row.name.slice(0,10)))]),n("el-popover",{attrs:{placement:"right",title:"文件名",width:"200",trigger:"hover"}},[n("div",[e._v(e._s(t.row.name))]),n("el-button",{attrs:{slot:"reference",icon:"el-icon-more",type:"text",disabled:e.moreDisabled},slot:"reference"})],1)],1)]}}])}),n("el-table-column",{attrs:{label:"固件类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",[e._v(e._s(t.row.fwType.name))])]}}])}),n("el-table-column",{attrs:{label:"支持功能模块",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.moduleTypes<3?n("div",[e._l(t.row.moduleTypes,(function(t,i){return n("el-tag",{key:i,staticStyle:{"margin-left":"3px"},attrs:{type:"success"}},[e._v(e._s(t.name)+" ")])})),n("el-popover",{attrs:{placement:"right",title:"支持功能列表",width:"300",trigger:"click"},on:{show:function(n){return e.showPop(t.row)},hide:function(n){return e.hidePop(t.row)}}},[n("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.selectedModuleType,callback:function(t){e.selectedModuleType=t},expression:"selectedModuleType"}},e._l(e.allModuleType,(function(e,t){return n("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1),n("el-button",{attrs:{slot:"reference",icon:"el-icon-more",type:"text",disabled:e.moreDisabled},slot:"reference"})],1)],2):n("div",[e._l(t.row.moduleTypes.slice(0,2),(function(t,i){return n("el-tag",{key:i,staticStyle:{"margin-left":"3px"},attrs:{type:"success"}},[e._v(e._s(t.name)+" ")])})),n("el-popover",{attrs:{placement:"right",title:"支持功能列表",width:"300",trigger:"click"},on:{show:function(n){return e.showPop(t.row)},hide:function(n){return e.hidePop(t.row)}}},[n("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.selectedModuleType,callback:function(t){e.selectedModuleType=t},expression:"selectedModuleType"}},e._l(e.allModuleType,(function(e,t){return n("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1),n("el-button",{attrs:{slot:"reference",icon:"el-icon-more",type:"text",disabled:e.moreDisabled},slot:"reference"})],1)],2)]}}])}),n("el-table-column",{attrs:{label:"备注信息",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.remark&&t.row.remark.length<8||null==t.row.remark?n("div",[e._v(" "+e._s(t.row.remark)+" ")]):n("div",[n("span",[e._v(e._s(t.row.remark.slice(0,8)))]),n("el-popover",{attrs:{placement:"right",title:"备注",width:"200",trigger:"hover"}},[n("div",[e._v(e._s(t.row.remark))]),n("el-button",{attrs:{slot:"reference",icon:"el-icon-more",type:"text",disabled:e.moreDisabled},slot:"reference"})],1)],1)]}}])}),n("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"90"}}),n("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.handleEdit(t.row)}}},[e._v("编辑 ")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),n("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"danger",size:"small",disabled:0==e.multipleSelection.length},on:{click:e.deleteMany}},[e._v("批量删除 ")]),n("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[n("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)],1),n("el-dialog",{attrs:{title:"上传新固件",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-row",[n("el-col",{attrs:{span:6}},[e._v("选择固件类型")]),n("el-col",{attrs:{span:18}},[n("el-select",{attrs:{placeholder:"请选择固件类型"},on:{change:e.changeAddFw},model:{value:e.addFw,callback:function(t){e.addFw=t},expression:"addFw"}},e._l(e.fwTypes,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),n("el-row",[n("el-col",{attrs:{span:6}},[e._v("选择支持功能")]),n("el-col",{attrs:{span:18}},[n("el-popover",{attrs:{placement:"right",title:"支持功能列表",width:"200",trigger:"click"}},[n("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.addModuleType,callback:function(t){e.addModuleType=t},expression:"addModuleType"}},e._l(e.allModuleType,(function(e,t){return n("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1),n("el-button",{attrs:{slot:"reference",icon:"el-icon-more",type:"text",disabled:e.moreDisabled},slot:"reference"})],1)],1)],1),n("el-col",{staticStyle:{color:"red"},attrs:{span:6},model:{value:e.tips,callback:function(t){e.tips=t},expression:"tips"}},[e._v(" "+e._s(e.tips)+" ")]),n("el-col",{attrs:{span:6}},[n("el-upload",{staticStyle:{display:"inline-flex","margin-right":"8px"},attrs:{"show-file-list":!1,"before-upload":e.beforeUpload,"on-success":e.onSuccess,"on-error":e.onError,disabled:e.importDataDisabled,action:e.addUrl}},[n("el-button",{attrs:{disabled:e.importDataDisabled,type:"success",icon:e.importDataBtnIcon}},[e._v(" "+e._s(e.importDataBtnText)+" ")])],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.addSubmit}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"更新固件信息",visible:e.dialogVisible1,width:"60%"},on:{"update:visible":function(t){e.dialogVisible1=t}}},[n("el-row",[n("el-col",{attrs:{span:6}},[n("el-tag",[e._v("文件名称:")])],1),n("el-col",{attrs:{span:18}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.updateFwInfo.name,expression:"updateFwInfo.name"}],staticStyle:{width:"300px"},attrs:{type:"textarea",autosize:"",disabled:""},domProps:{value:e.updateFwInfo.name},on:{input:function(t){t.target.composing||e.$set(e.updateFwInfo,"name",t.target.value)}}})])],1),n("el-row",[n("el-col",{attrs:{span:6}},[n("el-tag",[e._v("固件类型:")])],1),n("el-col",{attrs:{span:18}},[n("el-select",{attrs:{placeholder:"请选择固件类型"},model:{value:e.updateFwInfo.fwTypeId,callback:function(t){e.$set(e.updateFwInfo,"fwTypeId",t)},expression:"updateFwInfo.fwTypeId"}},e._l(e.fwTypes,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),n("el-row",[n("el-col",{attrs:{span:6}},[n("el-tag",[e._v("备注信息:")])],1),n("el-col",{attrs:{span:18}},[n("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},model:{value:e.updateFwInfo.remark,callback:function(t){e.$set(e.updateFwInfo,"remark",t)},expression:"updateFwInfo.remark"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible1=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.updateSubmit}},[e._v("确 定")])],1)],1)],1)},o=[],s=(n("4160"),n("a434"),n("b0c0"),n("159b"),{name:"AllFw",data:function(){return{total:0,page:1,size:10,fwTypes:[],fws:[],keyWord:null,importDataDisabled:!0,importDataBtnText:"上传固件",dialogVisible:!1,dialogVisible1:!1,importDataBtnIcon:"",multipleSelection:"",selectedModuleType:[],addModuleType:[],allModuleType:[],moreDisabled:!1,addFw:null,addUrl:"",tips:"请先选择固件类型",backId:null,updateFwInfo:{id:null,name:"",fwTypeId:null,remark:""}}},mounted:function(){this.initFwTypes(),this.initModuleType(),this.initFws()},methods:{currentChange:function(e){this.page=e,this.initFws()},sizeChange:function(e){this.size=e,this.initFws()},updateSubmit:function(){var e=this;this.updateFwInfo.id&&this.updateFwInfo.fwTypeId&&this.putRequest().then((function(t){t&&(e.dialogVisible1=!1,e.initFws())}))},initAddSubmit:function(){this.addfw=null,this.addModuleType=null},addSubmit:function(){var e=this;if(this.backId){var t="/fw/upload/fmodule/?fid="+this.backId;this.addModuleType.forEach((function(e){t+="&mids="+e})),this.putRequest(t).then((function(t){t&&(e.initFws(),e.dialogVisible=!1,e.initAddSubmit())}))}else this.$message.info("请选择固件类型")},changeAddFw:function(){this.addFw&&(this.importDataDisabled=!1,this.addUrl="/fw/upload/fwinfo/up/"+this.addFw)},showDia:function(){this.dialogVisible=!0,this.initFwTypes(),this.initModuleType()},initModuleType:function(){var e=this;this.getRequest("fw/upload/mtype/").then((function(t){t&&(e.allModuleType=t)}))},showPop:function(e){var t=this;this.moreDisabled=!0;var n=e.moduleTypes;this.selectedModuleType=[],n.forEach((function(e){t.selectedModuleType.push(e.id)}))},hidePop:function(e){var t=this;this.moreDisabled=!1;var n=[];Object.assign(n,e.moduleTypes);var i=!1;if(n.length!=this.selectedModuleType.length)i=!0;else{for(var l=0;l<n.length;l++)for(var a=n[l],o=0;o<this.selectedModuleType.length;o++){var s=this.selectedModuleType[o];if(a.id==s){n.splice(l,1),l--;break}}0!=n.length&&(i=!0)}if(i){var r="/fw/upload/fmodule/?fid="+e.id;this.selectedModuleType.forEach((function(e){r+="&mids="+e})),this.putRequest(r).then((function(e){e&&t.initFws()}))}},handleSelectionChange:function(e){this.multipleSelection=e},onError:function(e,t,n){this.importDataBtnText="导入数据",this.importDataBtnIcon="el-icon-upload2",this.importDataDisabled=!1},onSuccess:function(e,t,n){this.importDataBtnText="导入数据",this.importDataBtnIcon="el-icon-upload2",this.importDataDisabled=!1,this.$message.success(e.msg),this.backId=e.obj},beforeUpload:function(){this.importDataBtnText="正在导入",this.importDataBtnIcon="el-icon-loading",this.importDataDisabled=!0},initFwTypes:function(){var e=this;this.getRequest("/fw/upload/fwtype/").then((function(t){t&&(e.fwTypes=t)}))},initFws:function(){var e=this;null==this.keyWord&&(this.keyWord="");var t="/fw/upload/fwinfo/?page="+this.page+"&size="+this.size+"&fwTypeId="+this.keyWord;this.getRequest(t).then((function(t){t&&(e.fws=t.obj.data,e.total=t.obj.total)}))},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除[ "+e.name+" ]该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n="?";n+="ids="+e.id,t.deleteRequest("/fw/upload/fwinfo/"+n).then((function(e){e&&t.initFws()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleEdit:function(e){this.updateFwInfo.name=e.name,this.updateFwInfo.remark=e.remark,this.updateFwInfo.fwTypeId=e.fwTypeId,this.updateFwInfo.id=e.id,this.dialogVisible1=!0},deleteMany:function(){var e=this;this.$confirm("此操作将永久删除[ "+this.multipleSelection.length+" ]条记录及固件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t="?";e.multipleSelection.forEach((function(e){t+="ids="+e.id+"&"})),e.deleteRequest("/fw/upload/fwinfo/"+t).then((function(t){t&&e.initFws()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))}}}),r=s,c=(n("10b2"),n("2877")),u=Object(c["a"])(r,a,o,!1,null,"1b9a8dfc",null),d=u.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"请输入新增固件类型名称","prefix-icon":"el-icon-plus"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addType(t)}},model:{value:e.fwType.name,callback:function(t){e.$set(e.fwType,"name",t)},expression:"fwType.name"}}),n("el-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",size:"small"},on:{click:e.addType}},[e._v("新增固件类型")])],1),n("div",[n("el-table",{staticStyle:{width:"80%","margin-top":"8px"},attrs:{data:e.fwTypes,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"70"}}),n("el-table-column",{attrs:{prop:"id",label:"ID",width:"70"}}),n("el-table-column",{attrs:{prop:"name",label:"固件类型",width:"250"}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.handleEdit(t.row)}}},[e._v("编辑 ")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),n("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"danger",size:"small",disabled:0==e.multipleSelection.length},on:{click:e.deleteMany}},[e._v("批量删除")])],1),n("div",[n("el-dialog",{attrs:{title:"修改固件类型",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-tag",[e._v("固件类型")]),n("el-input",{staticStyle:{width:"200px","margin-left":"8px"},attrs:{size:"small"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateSubmit(t)}},model:{value:e.updateFwType.name,callback:function(t){e.$set(e.updateFwType,"name",t)},expression:"updateFwType.name"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.updateSubmit}},[e._v("确 定")])],1)],1)],1)])},f=[],m={name:"FwType",data:function(){return{fwType:{name:""},fwTypes:[],multipleSelection:[],dialogVisible:!1,updateFwType:{name:"",id:null}}},mounted:function(){this.initFwTypes()},methods:{initUpdate:function(){this.updateFwType.id=null,this.updateFwType.name=""},updateSubmit:function(){var e=this;this.putRequest("/fw/upload/fwtype/",this.updateFwType).then((function(t){t&&(e.dialogVisible=!1,e.initFwTypes(),e.initUpdate())}))},deleteMany:function(){var e=this;this.$confirm("此操作将永久删除[ "+this.multipleSelection.length+" ]条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t="?";e.multipleSelection.forEach((function(e){t+="ids="+e.id+"&"})),e.deleteRequest("/fw/upload/fwtype/"+t).then((function(t){t&&e.initFwTypes()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除[ "+e.name+" ]该固件类型, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n="?";n+="ids="+e.id,t.deleteRequest("/fw/upload/fwtype/"+n).then((function(e){e&&t.initFwTypes()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleEdit:function(e){this.dialogVisible=!0,this.updateFwType.id=e.id,this.updateFwType.name=e.name},initFwType:function(){this.fwType.name=""},initFwTypes:function(){var e=this;this.getRequest("/fw/upload/fwtype/").then((function(t){t&&(e.fwTypes=t)}))},handleSelectionChange:function(e){this.multipleSelection=e},addType:function(){var e=this;this.fwType.name&&this.postRequest("/fw/upload/fwtype/",this.fwType).then((function(t){t&&(e.initFwTypes(),e.initFwType())}))}}},h=m,y=Object(c["a"])(h,p,f,!1,null,"3f724c48",null),w=y.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("el-input",{staticStyle:{width:"300px"},attrs:{size:"small",placeholder:"请输入新增功能类型名称","prefix-icon":"el-icon-plus"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addModule(t)}},model:{value:e.mType.name,callback:function(t){e.$set(e.mType,"name",t)},expression:"mType.name"}}),n("el-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",size:"small"},on:{click:e.addModule}},[e._v("新增功能类型")])],1),n("div",[n("el-table",{staticStyle:{width:"80%","margin-top":"8px"},attrs:{data:e.mTypes,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"70"}}),n("el-table-column",{attrs:{prop:"id",label:"ID",width:"70"}}),n("el-table-column",{attrs:{prop:"name",label:"功能模块名称",width:"350"}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.handleEdit(t.row)}}},[e._v("编辑 ")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.handleDelete(t.row)}}},[e._v("删除 ")])]}}])})],1),n("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"danger",size:"small",disabled:0==e.multipleSelection.length},on:{click:e.deleteMany}},[e._v("批量删除")])],1),n("div",[n("el-dialog",{attrs:{title:"修改固件类型",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-tag",[e._v("固件类型")]),n("el-input",{staticStyle:{width:"200px","margin-left":"8px"},attrs:{size:"small"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateSubmit(t)}},model:{value:e.updateMType.name,callback:function(t){e.$set(e.updateMType,"name",t)},expression:"updateMType.name"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.updateSubmit}},[e._v("确 定")])],1)],1)],1)])},v=[],g={name:"ModuleType",data:function(){return{mType:{name:""},mTypes:[],multipleSelection:[],dialogVisible:!1,updateMType:{name:"",id:null}}},mounted:function(){this.initMTypes()},methods:{initUpdate:function(){this.updateMType.id=null,this.updateMType.name=""},updateSubmit:function(){var e=this;this.putRequest("/fw/upload/mtype/",this.updateMType).then((function(t){t&&(e.dialogVisible=!1,e.initMTypes(),e.initUpdate())}))},deleteMany:function(){var e=this;this.$confirm("此操作将永久删除[ "+this.multipleSelection.length+" ]条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t="?";e.multipleSelection.forEach((function(e){t+="ids="+e.id+"&"})),e.deleteRequest("/fw/upload/mtype/"+t).then((function(t){t&&e.initMTypes()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除[ "+e.name+" ]该功能模块类型, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n="?";n+="ids="+e.id,t.deleteRequest("/fw/upload/mtype/"+n).then((function(e){e&&t.initMTypes()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleEdit:function(e){this.dialogVisible=!0,this.updateMType.id=e.id,this.updateMType.name=e.name},initMType:function(){this.mType.name=""},initMTypes:function(){var e=this;this.getRequest("/fw/upload/mtype/").then((function(t){t&&(e.mTypes=t)}))},handleSelectionChange:function(e){this.multipleSelection=e},addModule:function(){var e=this;this.mType.name&&this.postRequest("/fw/upload/mtype/",this.mType).then((function(t){t&&(e.initMTypes(),e.initMType())}))}}},T=g,k=Object(c["a"])(T,b,v,!1,null,null,null),_=k.exports,x={name:"FwUpload",data:function(){return{activeName:"first"}},components:{AllFw:d,FwType:w,ModuleType:_}},F=x,S=Object(c["a"])(F,i,l,!1,null,"ca25b658",null);t["default"]=S.exports}}]);
//# sourceMappingURL=chunk-3a6a5d23.bc701c1a.js.map