(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12235c4c"],{6623:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-button",{attrs:{type:"primary",disabled:0==t.multipleSelection.length},on:{click:t.multiSend}},[t._v("批量发送")])],1),a("div",[a("el-table",{staticClass:"MainTable",attrs:{data:t.roomTypes,border:"",stripe:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),a("el-table-column",{attrs:{prop:"name",label:"房间类型",width:"100"}}),a("el-table-column",{attrs:{prop:"airs[0].airName",label:"空调1",width:"80"}}),a("el-table-column",{attrs:{prop:"airs[1].airName",label:"空调2",width:"80"}}),a("el-table-column",{attrs:{prop:"airs[2].airName",label:"空调3",width:"80"}}),a("el-table-column",{attrs:{prop:"airs[3].airName",label:"空调4",width:"80"}}),a("el-table-column",{attrs:{prop:"airs[4].airName",label:"空调5",width:"80"}}),a("el-table-column",{attrs:{prop:"airs[5].airName",label:"空调6",width:"80"}}),a("el-table-column",{attrs:{prop:"airs[6].airName",label:"空调7",width:"80"}}),a("el-table-column",{attrs:{prop:"airs[7].airName",label:"空调8",width:"80"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v("编辑 ")]),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return t.handleSend(e.row)}}},[t._v("发送 ")])]}}])})],1)],1),a("div",[a("el-dialog",{attrs:{title:"空调数量设置",visible:t.dialogVisible,width:"40%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("table",{staticClass:"airsTable"},[a("el-checkbox-group",{on:{change:t.handleChange},model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},[a("tr",[a("td",[a("el-checkbox",{attrs:{label:"空调1"}})],1),a("td",[a("el-input",{attrs:{disabled:-1==t.checkList.indexOf("空调1")},model:{value:t.airNames.air1,callback:function(e){t.$set(t.airNames,"air1",e)},expression:"airNames.air1"}})],1),a("td",[a("el-checkbox",{attrs:{label:"空调2"}})],1),a("td",[a("el-input",{attrs:{disabled:-1==t.checkList.indexOf("空调2")},model:{value:t.airNames.air2,callback:function(e){t.$set(t.airNames,"air2",e)},expression:"airNames.air2"}})],1)]),a("tr",[a("td",[a("el-checkbox",{attrs:{label:"空调3"}},[t._v("空调3")])],1),a("td",[a("el-input",{attrs:{disabled:-1==t.checkList.indexOf("空调3")},model:{value:t.airNames.air3,callback:function(e){t.$set(t.airNames,"air3",e)},expression:"airNames.air3"}})],1),a("td",[a("el-checkbox",{attrs:{label:"空调4"}},[t._v("空调4")])],1),a("td",[a("el-input",{attrs:{disabled:-1==t.checkList.indexOf("空调4")},model:{value:t.airNames.air4,callback:function(e){t.$set(t.airNames,"air4",e)},expression:"airNames.air4"}})],1)]),a("tr",[a("td",[a("el-checkbox",{attrs:{label:"空调5"}},[t._v("空调5")])],1),a("td",[a("el-input",{attrs:{disabled:-1==t.checkList.indexOf("空调5")},model:{value:t.airNames.air5,callback:function(e){t.$set(t.airNames,"air5",e)},expression:"airNames.air5"}})],1),a("td",[a("el-checkbox",{attrs:{label:"空调6"}},[t._v("空调6")])],1),a("td",[a("el-input",{attrs:{disabled:-1==t.checkList.indexOf("空调6")},model:{value:t.airNames.air6,callback:function(e){t.$set(t.airNames,"air6",e)},expression:"airNames.air6"}})],1)]),a("tr",[a("td",[a("el-checkbox",{attrs:{label:"空调7"}},[t._v("空调7")])],1),a("td",[a("el-input",{attrs:{disabled:-1==t.checkList.indexOf("空调7")},model:{value:t.airNames.air7,callback:function(e){t.$set(t.airNames,"air7",e)},expression:"airNames.air7"}})],1),a("td",[a("el-checkbox",{attrs:{label:"空调8"}},[t._v("空调8")])],1),a("td",[a("el-input",{attrs:{disabled:-1==t.checkList.indexOf("空调8")},model:{value:t.airNames.air8,callback:function(e){t.$set(t.airNames,"air8",e)},expression:"airNames.air8"}})],1)])])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.updateSubmit}},[t._v("确 定")])],1)])],1),a("el-dialog",{attrs:{title:"发送空调数量",visible:t.dialogVisible1,width:"50%"},on:{"update:visible":function(e){t.dialogVisible1=e}}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",[a("el-tag",[t._v("当前房型")]),a("span",{staticStyle:{"margin-left":"8px","font-weight":"700"}},[t._v(t._s(t.roomTypeName))])],1),a("div",[a("el-button",{attrs:{type:"primary",disabled:0==t.multipleSelection1.length}},[t._v("发送空调数量")])],1)]),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"MainTable",attrs:{data:t.rooms,border:"",stripe:""},on:{"selection-change":t.handleSelectionChange1}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),a("el-table-column",{attrs:{prop:"roomNo",label:"房号",width:"80"}}),a("el-table-column",{attrs:{prop:"roomType.name",label:"房型",width:"100"}}),a("el-table-column",{attrs:{prop:"building.name",label:"楼栋",width:"80"}}),a("el-table-column",{attrs:{prop:"txFloor.name",label:"楼层",width:"80"}}),a("el-table-column",{attrs:{prop:"ip",label:"IP",width:"120"}}),a("el-table-column",{attrs:{prop:"port",label:"端口",width:"60"}}),a("el-table-column",{attrs:{prop:"airSettingSendStatus",label:"发送状态"}})],1)],1)])],1)},i=[],r=(a("99af"),a("b0c0"),{name:"AirCount",data:function(){return{rooms:[],roomTypeName:"",roomTypeId:null,roomTypes:[],multipleSelection:[],multipleSelection1:[],dialogVisible:!1,dialogVisible1:!1,checked:!1,checkList:[],loading:!1,airNames:{air1:"",air2:"",air3:"",air4:"",air5:"",air6:"",air7:"",air8:""},airs:[],submitAir:{roomTypeId:null,airNo:null,airName:""},submitAirs:[{roomTypeId:null,airNo:null,airName:""},{roomTypeId:null,airNo:null,airName:""},{roomTypeId:null,airNo:null,airName:""},{roomTypeId:null,airNo:null,airName:""},{roomTypeId:null,airNo:null,airName:""},{roomTypeId:null,airNo:null,airName:""},{roomTypeId:null,airNo:null,airName:""},{roomTypeId:null,airNo:null,airName:""}]}},mounted:function(){this.initRoomType()},methods:{initSubmit:function(){this.submitAirs=[{roomTypeId:null,airNo:null,airName:""},{roomTypeId:null,airNo:null,airName:""},{roomTypeId:null,airNo:null,airName:""},{roomTypeId:null,airNo:null,airName:""},{roomTypeId:null,airNo:null,airName:""},{roomTypeId:null,airNo:null,airName:""},{roomTypeId:null,airNo:null,airName:""},{roomTypeId:null,airNo:null,airName:""}]},handleChange:function(t){console.log("value:"+t),console.log(this.checkList),this.initSubmit()},initRoomType:function(){var t=this;this.getRequest("/air/count/").then((function(e){t.roomTypes=e}))},multiSend:function(){},handleSelectionChange:function(t){this.multipleSelection=t},handleSelectionChange1:function(t){this.multipleSelection1=t},handleEdit:function(t){this.checkList=[],this.airNames={air1:"",air2:"",air3:"",air4:"",air5:"",air6:"",air7:"",air8:""},this.dialogVisible=!0,this.roomTypeId=t.id;for(var e=0;e<t.airs.length;e++)this.checkList=this.checkList.concat("空调"+t.airs[e].airNo),this.airNames["air"+(e+1)]=t.airs[e].airName},handleSend:function(t){var e=this;this.loading=!0,this.rooms=[],this.getRequest("/setting/room/rid/"+t.id).then((function(t){t&&(e.rooms=t,e.loading=!1)})),this.roomTypeName=t.name,this.dialogVisible1=!0},updateSubmit:function(){for(var t=this,e=0;e<this.checkList.length;e++)this.submitAirs[this.checkList[e].substr(this.checkList[e].length-1,1)-1].airNo=this.checkList[e].substr(this.checkList[e].length-1,1),this.submitAirs[this.checkList[e].substr(this.checkList[e].length-1,1)-1].airName=this.airNames["air"+this.checkList[e].substr(this.checkList[e].length-1,1)],this.submitAirs[this.checkList[e].substr(this.checkList[e].length-1,1)-1].roomTypeId=this.roomTypeId;this.submitAirs[0].roomTypeId=this.roomTypeId,this.putRequest("/air/count/",this.submitAirs).then((function(e){e&&(t.dialogVisible=!1,t.initRoomType())}))}}}),s=r,o=(a("7658"),a("2877")),n=Object(o["a"])(s,l,i,!1,null,null,null);e["default"]=n.exports},7658:function(t,e,a){"use strict";var l=a("e1cb"),i=a.n(l);i.a},"76ec":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-button",{staticStyle:{"margin-top":"5px"},attrs:{type:"primary",disabled:0==t.multipleSelection.length},on:{click:t.multiSend}},[t._v("批量发送 ")])],1),a("div",[a("el-table",{staticStyle:{"margin-top":"5px",width:"80%"},attrs:{data:t.airs,border:"",stripe:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),a("el-table-column",{attrs:{prop:"roomType.name",label:"房间类型",width:"100"}}),a("el-table-column",{attrs:{prop:"airName",label:"空调名称",width:"100"}}),a("el-table-column",{attrs:{prop:"airNo",label:"房间空调序号",width:"100"}}),a("el-table-column",{attrs:{prop:"airStrategy.name",label:"空调策略",width:"100"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{staticStyle:{"margin-right":"10px"},attrs:{placement:"left",title:"修改空调策略",width:"200",trigger:"click"},on:{show:function(a){return t.showPop(e.row)},hide:function(a){return t.hidePop(e.row)}}},[a("div",[a("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.air.airStrategyId,callback:function(e){t.$set(t.air,"airStrategyId",e)},expression:"air.airStrategyId"}},t._l(t.airStrategys,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[t._v("修改策略")])],1),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return t.handleSend(e.row)}}},[t._v("发送 ")])]}}])})],1)],1)])},i=[],r={name:"AirSend",data:function(){return{multipleSelection:[],airs:[],airStrategys:[],air:{id:null,airStrategyId:null},currentStrategy:null}},mounted:function(){this.initAirs(),this.initAirStartegys()},methods:{hidePop:function(t){var e=this;this.putRequest("/air/send/",this.air).then((function(t){t&&e.initAirs()}))},showPop:function(t){this.air.airStrategyId=null,this.air.id=null,t&&(this.air.airStrategyId=t.airStrategyId,this.air.id=t.id)},initAirStartegys:function(){var t=this;this.getRequest("/air/strategy/").then((function(e){e&&(t.airStrategys=e)}))},multiSend:function(){},initAirs:function(){var t=this;this.getRequest("/air/send/").then((function(e){e&&(t.airs=e)}))},handleSelectionChange:function(t){this.multipleSelection=t},handleSend:function(){},changeStrategy:function(){}}},s=r,o=a("2877"),n=Object(o["a"])(s,l,i,!1,null,"a7a09718",null);e["default"]=n.exports},e1cb:function(t,e,a){},eae1:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-button",{attrs:{type:"primary"},on:{click:t.addStrategy}},[t._v("新增策略")])],1),a("div",[a("el-table",{staticStyle:{"margin-top":"8px",width:"50%"},attrs:{data:t.strategys,border:"",stripe:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),a("el-table-column",{attrs:{prop:"name",label:"节能策略名称",width:"120"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"120"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v("编辑 ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.row)}}},[t._v("删除 ")])]}}])})],1),a("el-button",{staticClass:"buildDelete",staticStyle:{"margin-top":"8px"},attrs:{type:"danger",size:"small",disabled:0==t.multipleSelection.length},on:{click:t.deleteMany}},[t._v("批量删除 ")])],1),a("div",[a("el-dialog",{attrs:{title:"节能策略设置",visible:t.dialogVisible,width:"80%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",[a("el-form",{ref:"strategyForm",attrs:{model:t.strategy,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"策略名称:",prop:"name"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",placeholder:"请输入节能策略名称"},model:{value:t.strategy.name,callback:function(e){t.$set(t.strategy,"name",e)},expression:"strategy.name"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"温度校正:",prop:"tempCorrect"}},[a("el-input-number",{attrs:{precision:1,step:.5,max:5,min:-5},model:{value:t.strategy.tempCorrect,callback:function(e){t.$set(t.strategy,"tempCorrect",e)},expression:"strategy.tempCorrect"}}),t._v(" ℃ ")],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"到达温度后风机运行策略:",prop:"lowRunning"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择策略",size:"mini"},model:{value:t.strategy.lowRunning,callback:function(e){t.$set(t.strategy,"lowRunning",e)},expression:"strategy.lowRunning"}},t._l(t.lowRunnings,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1),a("el-collapse",{staticStyle:{width:"98%"},attrs:{accordion:""},on:{change:t.handleChange},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{key:"1",attrs:{title:"插卡策略",name:"1"}},[a("template",{slot:"title"},[t._v(" 插卡策略 "),a("el-switch",{staticStyle:{"margin-left":"20px"},attrs:{"active-text":"启用","inactive-text":"禁用"},model:{value:t.enableds[0],callback:function(e){t.$set(t.enableds,0,e)},expression:"enableds[0]"}}),a("span",{staticStyle:{"margin-left":"20px",color:"red"}},[t._v("点击展开设置项")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"空调开关:",prop:"cardinSwitch"}},[a("el-switch",{staticStyle:{"margin-left":"20px"},attrs:{"active-text":"开","inactive-text":"关"},model:{value:t.strategy.cardinSwitch,callback:function(e){t.$set(t.strategy,"cardinSwitch",e)},expression:"strategy.cardinSwitch"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"空调模式:",prop:"cardinMode"}},[a("el-switch",{staticStyle:{"margin-left":"20px"},attrs:{"active-text":"自动","inactive-text":"手动"},model:{value:t.strategy.cardinMode,callback:function(e){t.$set(t.strategy,"cardinMode",e)},expression:"strategy.cardinMode"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"风速:",prop:"cardinspeed"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择风速",size:"mini"},model:{value:t.strategy.cardinspeed,callback:function(e){t.$set(t.strategy,"cardinspeed",e)},expression:"strategy.cardinspeed"}},t._l(t.speeds,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"夏季插卡初始温度:",prop:"cardinSummerTemp"}},[a("el-input-number",{attrs:{precision:1,step:1,max:31,min:16},model:{value:t.strategy.cardinSummerTemp,callback:function(e){t.$set(t.strategy,"cardinSummerTemp",e)},expression:"strategy.cardinSummerTemp"}}),t._v(" ℃ ")],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"夏季插卡初始温度:",prop:"cardinWinterTemp"}},[a("el-input-number",{attrs:{precision:1,step:1,max:31,min:16},model:{value:t.strategy.cardinWinterTemp,callback:function(e){t.$set(t.strategy,"cardinWinterTemp",e)},expression:"strategy.cardinWinterTemp"}}),t._v(" ℃ ")],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"插卡时是否保持拔卡时的温度:",prop:"keepCardoutTemp"}},[a("el-switch",{attrs:{"active-text":"开","inactive-text":"关"},model:{value:t.strategy.keepCardoutTemp,callback:function(e){t.$set(t.strategy,"keepCardoutTemp",e)},expression:"strategy.keepCardoutTemp"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"睡眠模式:",prop:"sleepModeSwitch"}},[a("el-switch",{staticStyle:{"margin-left":"20px"},attrs:{"active-text":"开","inactive-text":"关"},model:{value:t.strategy.sleepModeSwitch,callback:function(e){t.$set(t.strategy,"sleepModeSwitch",e)},expression:"strategy.sleepModeSwitch"}})],1)],1),a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"开启时段:",prop:"sleepModeTime"}},[a("el-time-select",{attrs:{placeholder:"起始时间","picker-options":{start:"16:00",step:"00:15",end:"24:00"}},model:{value:t.strategy.sleepModeStartTime,callback:function(e){t.$set(t.strategy,"sleepModeStartTime",e)},expression:"strategy.sleepModeStartTime"}}),a("el-time-select",{attrs:{placeholder:"结束时间","picker-options":{start:"04:00",step:"00:15",end:"12:00",minTime:t.startTime}},model:{value:t.strategy.sleepModeEndTime,callback:function(e){t.$set(t.strategy,"sleepModeEndTime",e)},expression:"strategy.sleepModeEndTime"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8,offset:6}},[a("el-form-item",{attrs:{label:"温度:",prop:"sleepModeTemp"}},[a("el-input-number",{attrs:{precision:1,step:1,max:31,min:16},model:{value:t.strategy.sleepModeTemp,callback:function(e){t.$set(t.strategy,"sleepModeTemp",e)},expression:"strategy.sleepModeTemp"}}),t._v("℃ ")],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"空调:",prop:"sleepModeAirSwitch"}},[a("el-switch",{attrs:{"active-text":"开","inactive-text":"关"},model:{value:t.strategy.sleepModeAirSwitch,callback:function(e){t.$set(t.strategy,"sleepModeAirSwitch",e)},expression:"strategy.sleepModeAirSwitch"}})],1)],1)],1)],1)],2),a("el-collapse-item",{attrs:{title:"拔卡策略",name:"2"}},[a("template",{slot:"title"},[t._v(" 拔卡策略 "),a("el-switch",{staticStyle:{"margin-left":"20px"},attrs:{"active-text":"启用","inactive-text":"禁用"},model:{value:t.enableds[0],callback:function(e){t.$set(t.enableds,0,e)},expression:"enableds[0]"}})],1),a("el-card",{staticClass:"box-card"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"空调开关:",prop:"cardoutSwitch"}},[a("el-switch",{staticStyle:{"margin-left":"20px"},attrs:{"active-text":"开","inactive-text":"关"},model:{value:t.strategy.cardoutSwitch,callback:function(e){t.$set(t.strategy,"cardoutSwitch",e)},expression:"strategy.cardoutSwitch"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"空调模式:",prop:"cardoutMode"}},[a("el-switch",{staticStyle:{"margin-left":"20px"},attrs:{"active-text":"自动","inactive-text":"手动"},model:{value:t.strategy.cardoutMode,callback:function(e){t.$set(t.strategy,"cardoutMode",e)},expression:"strategy.cardoutMode"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"风速:",prop:"cardoutspeed"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择风速",size:"mini"},model:{value:t.strategy.cardoutSpeed,callback:function(e){t.$set(t.strategy,"cardoutSpeed",e)},expression:"strategy.cardoutSpeed"}},t._l(t.speeds,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"夏季插卡初始温度:",prop:"cardoutSummerTemp"}},[a("el-input-number",{attrs:{precision:1,step:1,max:31,min:16},model:{value:t.strategy.cardoutSummerTemp,callback:function(e){t.$set(t.strategy,"cardoutSummerTemp",e)},expression:"strategy.cardoutSummerTemp"}}),t._v(" ℃ ")],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"夏季插卡初始温度:",prop:"cardoutWinterTemp"}},[a("el-input-number",{attrs:{precision:1,step:1,max:31,min:16},model:{value:t.strategy.cardoutWinterTemp,callback:function(e){t.$set(t.strategy,"cardoutWinterTemp",e)},expression:"strategy.cardoutWinterTemp"}}),t._v(" ℃ ")],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"空调定时控制:",prop:"cardoutControl"}},[a("el-switch",{staticStyle:{"margin-left":"20px"},attrs:{"active-text":"开","inactive-text":"关"},model:{value:t.strategy.cardoutControl,callback:function(e){t.$set(t.strategy,"cardoutControl",e)},expression:"strategy.cardoutControl"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"定时时长:",prop:"cardoutCycleTime"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",placeholder:"请输入时长"},model:{value:t.strategy.cardoutCycleTime,callback:function(e){t.$set(t.strategy,"cardoutCycleTime",e)},expression:"strategy.cardoutCycleTime"}}),t._v(" 分钟后关闭 ")],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"手机远程控制:",prop:"remoteControl"}},[a("el-switch",{staticStyle:{"margin-left":"20px"},attrs:{"active-text":"开","inactive-text":"关"},model:{value:t.strategy.remoteControl,callback:function(e){t.$set(t.strategy,"remoteControl",e)},expression:"strategy.remoteControl"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"有效时长:",prop:"remoteTime"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",placeholder:"请输入时长"},model:{value:t.strategy.remoteTime,callback:function(e){t.$set(t.strategy,"remoteTime",e)},expression:"strategy.remoteTime"}}),t._v(" 分钟后关闭 ")],1)],1)],1)],1)],2),a("el-collapse-item",{attrs:{title:"入住策略",name:"3"}},[a("template",{slot:"title"},[t._v(" 入住策略 "),a("el-switch",{staticStyle:{"margin-left":"20px"},attrs:{"active-text":"启用","inactive-text":"禁用"},model:{value:t.enableds[0],callback:function(e){t.$set(t.enableds,0,e)},expression:"enableds[0]"}})],1),a("el-card",{staticClass:"box-card"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"空调开关:",prop:"cardoutSwitch"}},[a("el-switch",{staticStyle:{"margin-left":"20px"},attrs:{"active-text":"开","inactive-text":"关"},model:{value:t.strategy.cardoutSwitch,callback:function(e){t.$set(t.strategy,"cardoutSwitch",e)},expression:"strategy.cardoutSwitch"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"空调模式:",prop:"cardoutMode"}},[a("el-switch",{staticStyle:{"margin-left":"20px"},attrs:{"active-text":"自动","inactive-text":"手动"},model:{value:t.strategy.cardoutMode,callback:function(e){t.$set(t.strategy,"cardoutMode",e)},expression:"strategy.cardoutMode"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"风速:",prop:"cardoutspeed"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择风速",size:"mini"},model:{value:t.strategy.cardoutSpeed,callback:function(e){t.$set(t.strategy,"cardoutSpeed",e)},expression:"strategy.cardoutSpeed"}},t._l(t.speeds,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"夏季插卡初始温度:",prop:"cardoutSummerTemp"}},[a("el-input-number",{attrs:{precision:1,step:1,max:31,min:16},model:{value:t.strategy.cardoutSummerTemp,callback:function(e){t.$set(t.strategy,"cardoutSummerTemp",e)},expression:"strategy.cardoutSummerTemp"}}),t._v(" ℃ ")],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"夏季插卡初始温度:",prop:"cardoutWinterTemp"}},[a("el-input-number",{attrs:{precision:1,step:1,max:31,min:16},model:{value:t.strategy.cardoutWinterTemp,callback:function(e){t.$set(t.strategy,"cardoutWinterTemp",e)},expression:"strategy.cardoutWinterTemp"}}),t._v(" ℃ ")],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"空调定时控制:",prop:"cardoutControl"}},[a("el-switch",{staticStyle:{"margin-left":"20px"},attrs:{"active-text":"开","inactive-text":"关"},model:{value:t.strategy.cardoutControl,callback:function(e){t.$set(t.strategy,"cardoutControl",e)},expression:"strategy.cardoutControl"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"定时时长:",prop:"cardoutCycleTime"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",placeholder:"请输入时长"},model:{value:t.strategy.cardoutCycleTime,callback:function(e){t.$set(t.strategy,"cardoutCycleTime",e)},expression:"strategy.cardoutCycleTime"}}),t._v(" 分钟后关闭 ")],1)],1)],1)],1)],2),a("el-collapse-item",{attrs:{title:"空房策略",name:"4"}},[a("template",{slot:"title"},[t._v(" 空房策略 "),a("el-switch",{staticStyle:{"margin-left":"20px"},attrs:{"active-text":"启用","inactive-text":"禁用"},model:{value:t.enableds[0],callback:function(e){t.$set(t.enableds,0,e)},expression:"enableds[0]"}})],1),a("el-card",{staticClass:"box-card"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"空调开关:",prop:"cardoutSwitch"}},[a("el-switch",{staticStyle:{"margin-left":"20px"},attrs:{"active-text":"开","inactive-text":"关"},model:{value:t.strategy.cardoutSwitch,callback:function(e){t.$set(t.strategy,"cardoutSwitch",e)},expression:"strategy.cardoutSwitch"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"空调模式:",prop:"cardoutMode"}},[a("el-switch",{staticStyle:{"margin-left":"20px"},attrs:{"active-text":"自动","inactive-text":"手动"},model:{value:t.strategy.cardoutMode,callback:function(e){t.$set(t.strategy,"cardoutMode",e)},expression:"strategy.cardoutMode"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"风速:",prop:"cardoutspeed"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择风速",size:"mini"},model:{value:t.strategy.cardoutSpeed,callback:function(e){t.$set(t.strategy,"cardoutSpeed",e)},expression:"strategy.cardoutSpeed"}},t._l(t.speeds,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"夏季插卡初始温度:",prop:"cardoutSummerTemp"}},[a("el-input-number",{attrs:{precision:1,step:1,max:31,min:16},model:{value:t.strategy.cardoutSummerTemp,callback:function(e){t.$set(t.strategy,"cardoutSummerTemp",e)},expression:"strategy.cardoutSummerTemp"}}),t._v(" ℃ ")],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"夏季插卡初始温度:",prop:"cardoutWinterTemp"}},[a("el-input-number",{attrs:{precision:1,step:1,max:31,min:16},model:{value:t.strategy.cardoutWinterTemp,callback:function(e){t.$set(t.strategy,"cardoutWinterTemp",e)},expression:"strategy.cardoutWinterTemp"}}),t._v(" ℃ ")],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"空调定时控制:",prop:"cardoutControl"}},[a("el-switch",{staticStyle:{"margin-left":"20px"},attrs:{"active-text":"开","inactive-text":"关"},model:{value:t.strategy.cardoutControl,callback:function(e){t.$set(t.strategy,"cardoutControl",e)},expression:"strategy.cardoutControl"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"循环开启:",prop:"cardoutSummerTemp"}},[a("el-input-number",{attrs:{precision:1,step:1,max:60,min:1},model:{value:t.strategy.cardoutSummerTemp,callback:function(e){t.$set(t.strategy,"cardoutSummerTemp",e)},expression:"strategy.cardoutSummerTemp"}}),t._v(" 分钟每小时 ")],1)],1)],1)],1)],2)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.updateSubmit}},[t._v("确 定")])],1)])],1)])},i=[],r=(a("4160"),a("b0c0"),a("159b"),{name:"AirStrategy",data:function(){return{enableds:[],activeNames:1,lowRunnings:[{id:0,name:"低速运行"},{id:1,name:"关闭风机"},{id:2,name:"维持原状态"}],speeds:[{id:0,name:"高速"},{id:1,name:"中速"},{id:2,name:"低速"},{id:3,name:"停止"}],strategys:[],multipleSelection:[],dialogVisible:!1,strategy:{name:"",tempCorrect:0,lowRunning:null,cardinSummerTemp:24,cardinWinterTemp:26,cardinSwitch:null,cardinMode:null,cardinSpeed:null,sleepModeSwitch:null,sleepModeEndTime:null,sleepModeStartTime:null,sleepModeTemp:26,sleepModeAirSwitch:null,keepCardoutTemp:null,cardoutSummerTemp:24,cardoutWinterTemp:26,cardoutSwitch:null,cardoutMode:null,cardoutSpeed:null},rules:{}}},mounted:function(){this.initStrategys()},methods:{addStrategy:function(){this.dialogVisible=!0},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除[ "+t.name+" ]该策略, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a="?";a+="ids="+t.id,e.deleteRequest("/air/strategy/"+a).then((function(t){t&&e.initStrategys()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleEdit:function(t){this.dialogVisible=!0},handleSelectionChange:function(t){this.multipleSelection=t},initStrategys:function(){var t=this;this.getRequest("/air/strategy/").then((function(e){e&&(t.strategys=e)}))},deleteMany:function(){var t=this;this.$confirm("此操作将永久删除[ "+this.multipleSelection.length+" ]条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e="?";t.multipleSelection.forEach((function(t){e+="ids="+t.id+"&"})),t.deleteRequest("/air/strategy/"+e).then((function(e){e&&t.initStrategys()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}}),s=r,o=a("2877"),n=Object(o["a"])(s,l,i,!1,null,"84c994da",null);e["default"]=n.exports},fc4f:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{width:"70%"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("空调季节设置")]),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small",icon:"el-icon-success"}},[t._v("保存设置")])],1),a("div",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","inactive-color":"#537EFF","active-text":"夏季(制冷)","inactive-text":"冬季(制热)"},model:{value:t.season.workMode,callback:function(e){t.$set(t.season,"workMode",e)},expression:"season.workMode"}})],1),a("el-col",{attrs:{span:12}},[a("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","inactive-color":"#537EFF","active-text":"单阀","inactive-text":"双阀"},model:{value:t.season.valveMode,callback:function(e){t.$set(t.season,"valveMode",e)},expression:"season.valveMode"}})],1)],1),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:12}},[a("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","inactive-color":"#537EFF","active-text":"电加热开","inactive-text":"电加热关"},model:{value:t.season.electricHeating,callback:function(e){t.$set(t.season,"electricHeating",e)},expression:"season.electricHeating"}})],1),a("el-col",{attrs:{span:12}},[a("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","inactive-color":"#537EFF","active-text":"红外控制开","inactive-text":"红外控制关"},model:{value:t.season.infraredControl,callback:function(e){t.$set(t.season,"infraredControl",e)},expression:"season.infraredControl"}})],1)],1)],1)])],1),a("div",[a("div",[a("div",[a("el-button",{staticStyle:{"margin-top":"5px"},attrs:{type:"primary",disabled:0==t.multipleSelection.length},on:{click:t.multiSend}},[t._v("批量发送 ")])],1)]),a("div",[a("el-table",{staticStyle:{"margin-top":"5px",width:"50%"},attrs:{data:t.roomTypes,border:"",stripe:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),a("el-table-column",{attrs:{prop:"name",label:"房间类型",width:"100"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return t.handleSend(e.row)}}},[t._v("发送 ")])]}}])})],1)],1),a("el-dialog",{attrs:{title:"发送空调季节",visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",[a("el-tag",[t._v("当前房型")]),a("span",{staticStyle:{"margin-left":"8px","font-weight":"700"}},[t._v(t._s(t.roomTypeName))])],1),a("div",[a("el-button",{attrs:{type:"primary",disabled:0==t.multipleSelection1.length}},[t._v("发送空调季节")])],1)]),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.rooms,border:"",stripe:""},on:{"selection-change":t.handleSelectionChange1}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),a("el-table-column",{attrs:{prop:"roomNo",label:"房号",width:"80"}}),a("el-table-column",{attrs:{prop:"roomType.name",label:"房型",width:"100"}}),a("el-table-column",{attrs:{prop:"building.name",label:"楼栋",width:"80"}}),a("el-table-column",{attrs:{prop:"txFloor.name",label:"楼层",width:"80"}}),a("el-table-column",{attrs:{prop:"ip",label:"IP",width:"120"}}),a("el-table-column",{attrs:{prop:"port",label:"端口",width:"60"}}),a("el-table-column",{attrs:{prop:"airSettingSendStatus",label:"发送状态"}})],1)],1)])],1)])},i=[],r=(a("b0c0"),{name:"AirSeason",data:function(){return{season:{workMode:!1,valveMode:!1,electricHeating:!1,infraredControl:!1},multipleSelection:[],multipleSelection1:[],dialogVisible:!1,loading:!1,rooms:[],roomTypes:[],roomTypeName:""}},mounted:function(){this.initRoomType()},methods:{initRoomType:function(){var t=this;this.getRequest("/air/count/").then((function(e){t.roomTypes=e}))},multiSend:function(){},handleSend:function(t){var e=this;this.loading=!0,this.rooms=[],this.getRequest("/setting/room/rid/"+t.id).then((function(t){t&&(e.rooms=t,e.loading=!1)})),this.dialogVisible=!0,this.roomTypeName=t.name},handleSelectionChange:function(t){this.multipleSelection=t},handleSelectionChange1:function(t){this.multipleSelection1=t}}}),s=r,o=a("2877"),n=Object(o["a"])(s,l,i,!1,null,null,null);e["default"]=n.exports}}]);
//# sourceMappingURL=chunk-12235c4c.2f4f1cf3.js.map